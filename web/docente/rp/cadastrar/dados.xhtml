<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputStylesheet name="css/cssLayout.css"/>
        <h:outputStylesheet name="css/primeflex.min.css"/>

        <title>IFSP - SGRP</title>
    </h:head>

    <h:body>
        <ui:composition template="/docente/home.xhtml">
            <ui:define name="content">
                <style>
                    /* reset on the showcase style*/
                    body .ui-panelgrid .ui-panelgrid-cell {
                        background-color: transparent;
                    }

                    /* example use of styles for your form */
                    .my-heading-row {
                        background-color: var(--surface-c);
                        font-weight: bold;
                        margin-top: 0.5em;
                    }
                </style>
                <div class="card">
                    <h:form id="form">
                        <p:growl id="messages" showDetail="true"/>

                        <p:breadCrumb>
                            <p:menuitem outcome="/docente/home" value="Home"/>
                            <p:menuitem outcome="/docente/rp/cadastrar/dados" value="Cadastrar Recuperação Paralela"/>
                        </p:breadCrumb>

                        <p:tabMenu id="tabMenu" activeIndex="#{param.i}">
                            <p:menuitem value="Dados da RP" process="@this" outcome="/docente/rp/cadastrar/dados" icon="pi pi-fw pi-database">
                                <f:param name="i" value="0"/>
                            </p:menuitem>
                            <p:menuitem value="Alunos" disabled="#{recuperacaoController.turma == null}" outcome="/docente/rp/cadastrar/alunos" icon="pi pi-fw pi-users">
                                <f:param name="i" value="1"/>
                            </p:menuitem>
                            <p:menuitem value="Aulas" outcome="/docente/rp/cadastrar/aulas" icon="pi pi-fw pi-copy">
                                <f:param name="i" value="2"/>
                            </p:menuitem>
                        </p:tabMenu>

                        <p:panelGrid columns="4"
                                     columnClasses="ui-grid-col-3,ui-grid-col-4,ui-grid-col-2,ui-grid-col-3"
                                     layout="grid"
                                     styleClass="ui-panelgrid-blank ui-fluid"
                                     style="border:0px none; background-color:transparent;">

                            <p:row styleClass="my-heading-row">
                                Dados
                            </p:row>

                            <p:outputLabel for="create_rp_curso">Curso</p:outputLabel>
                            <p:selectOneMenu id="create_rp_curso" converter="#{cursoConverter}"
                                             value="#{recuperacaoController.curso}"
                                             required="true" requiredMessage="Selecione um Curso"
                                             filter="true" filterMatchMode="startsWith">
                                <p:ajax listener="#{recuperacaoController.onCursoChange()}" update="create_rp_disciplina, create_rp_turma"/>
                                <f:selectItem itemLabel="Selecione o Curso" itemValue=""/>
                                <f:selectItems value="#{cursoController.cursos}" var="curso"
                                               itemLabel="#{curso.descricao}" itemValue="#{curso}"/>
                            </p:selectOneMenu>

                            <p:outputLabel for="create_rp_disciplina ">Disciplina</p:outputLabel>
                            <p:selectOneMenu id="create_rp_disciplina"
                                             value="#{recuperacaoController.recuperacaoParalela.disciplina}"
                                             required="true" requiredMessage="Selecione uma Disciplina"
                                             filter="true" filterMatchMode="startsWith">
                                <f:selectItem itemLabel="Selecione a Disciplina" itemValue=""/>
                                <f:selectItems value="#{recuperacaoController.disciplinasCurso}" var="disciplina"
                                               itemLabel="#{disciplina.nome}" itemValue="#{disciplina}"/>
                            </p:selectOneMenu>

                            <p:outputLabel for="create_rp_turma">Turma</p:outputLabel>
                            <p:selectOneMenu id="create_rp_turma" 
                                             value="#{recuperacaoController.turma}"
                                             required="true" requiredMessage="Selecione uma Turma"
                                             filter="true" filterMatchMode="startsWith">
                                <f:selectItem itemLabel="Selecione a Turma" itemValue=""/>
                                <f:selectItems value="#{recuperacaoController.turmasCurso}" var="turmaId"
                                               itemLabel="#{turmaId.descricao}" itemValue="#{turmaId}"/>
                            </p:selectOneMenu>

                            <p:outputLabel for="create_rp_bimestre">Bimestre</p:outputLabel>
                            <p:selectOneButton id="create_rp_bimestre" value="#{recuperacaoController.recuperacaoParalela.bimestre}"
                                               required="true" requiredMessage="Selecione o bimestre" >
                                <f:selectItem itemLabel="1" itemValue="1"/>
                                <f:selectItem itemLabel="2" itemValue="2"/>
                                <f:selectItem itemLabel="3" itemValue="3"/>
                                <f:selectItem itemLabel="4" itemValue="4"/>
                            </p:selectOneButton>

                            <p:outputLabel for="create_rp_docente">Servidores</p:outputLabel>
                            <p:selectManyMenu id="create_rp_docente" value="#{recuperacaoController.recuperacaoParalela.servidorCollection}"
                                              converter="servidorConverter"
                                              required="true" requiredMessage="Selecione ao menos um professor" 
                                              filter="true" filterMatchMode="contains" showCheckbox="true" styleClass="manymenu-advanced">
                                <f:selectItems value="#{servidorController.servidores}" var="servidor" itemLabel="#{servidor.nome}"
                                               itemValue="#{servidor}"/>
                            </p:selectManyMenu>

                        </p:panelGrid>

                        <p:panelGrid columns="2"
                                     columnClasses="ui-grid-col-2,ui-grid-col-10"
                                     layout="grid"
                                     styleClass="ui-panelgrid-blank ui-fluid"
                                     style="border:0px none; background-color:transparent;">

                            <p:row id="my-row-id" styleClass="my-heading-row" style="font-weight: bold">
                                Informações Adicionais
                            </p:row>

                            <p:row>
                                <p:outputLabel for="create_rp_justificativa">Justificativa</p:outputLabel>
                                <p:column>
                                    <p:inputTextarea id="create_rp_justificativa" rows="7" cols="40"
                                                     required="true" requiredMessage="Informe uma Justificativa"
                                                     counterTemplate="{0} caracteres restantes."
                                                     counter="display_justificativa" 
                                                     maxlength="1500" autoResize="true"
                                                     value="#{recuperacaoController.recuperacaoParalela.justificativa}" />
                                    <h:outputText id="display_justificativa" class="block" style="float: right" />
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:outputLabel for="create_rp_objetivo">Objetivo</p:outputLabel>
                                <p:column>
                                    <p:inputTextarea id="create_rp_objetivo" rows="7" cols="40"
                                                     required="true" requiredMessage="Defina um Objetivo"
                                                     counterTemplate="{0} caracteres restantes."
                                                     counter="display_objetivo"
                                                     maxlength="1500" autoResize="true"
                                                     value="#{recuperacaoController.recuperacaoParalela.objetivoGeral}" />
                                    <h:outputText id="display_objetivo" class="block" style="float: right" />
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:outputLabel for="create_rp_atividades">Atividades Propostas</p:outputLabel>
                                <p:column>
                                    <p:inputTextarea id="create_rp_atividades" rows="7" cols="40"
                                                     counterTemplate="{0} caracteres restantes."
                                                     required="true" requiredMessage="Informe as Atividades Propostas"
                                                     counter="display_atividade" 
                                                     maxlength="1500" autoResize="true"
                                                     value="#{recuperacaoController.recuperacaoParalela.atividadesPropostas}"/>
                                    <h:outputText id="display_atividade" class="block" style="float: right" />
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:outputLabel for="create_rp_procedimentos_avaliativos">Procedimentos Avaliativos</p:outputLabel>
                                <p:column>
                                    <p:inputTextarea id="create_rp_procedimentos_avaliativos" rows="7" cols="40"
                                                     required="true" requiredMessage="Defina o Procedimento Avaliativo"
                                                     counterTemplate="{0} caracteres restantes."
                                                     counter="display_procedimentos"
                                                     maxlength="1500" autoResize="true"
                                                     value="#{recuperacaoController.recuperacaoParalela.procedimentosAvaliativos}" />
                                    <h:outputText id="display_procedimentos" class="block" style="float: right" />
                                </p:column>
                            </p:row>

                            <p:row>
                                <p:outputLabel for="create_rp_obsercacoes">Observações Adicionais</p:outputLabel>
                                <p:column>
                                    <p:inputTextarea id="create_rp_obsercacoes" rows="7" cols="40" required="false"
                                                     counterTemplate="{0} caracteres restantes."
                                                     counter="display_observacoes"
                                                     maxlength="1500" autoResize="true"
                                                     value="#{recuperacaoController.recuperacaoParalela.observacoes}" />
                                    <h:outputText id="display_observacoes" class="block" style="float: right" />
                                </p:column>
                            </p:row>
                        </p:panelGrid>
                        <div align="right">
                            <p:commandButton value="Continuar" update="@form" action="#{recuperacaoController.navegar(0)}" style="margin-right: 30px"/>
                        </div>
                    </h:form>
                </div>
            </ui:define>
        </ui:composition>
    </h:body>
</html>
